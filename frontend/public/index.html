<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ç¬”è®°åº”ç”¨</title>
    
    <!-- å¼ºåˆ¶ç¦ç”¨ç¼“å­˜ -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
    <meta http-equiv="Pragma" content="no-cache" />
    <meta http-equiv="Expires" content="0" />
    
    <!-- ç«‹å³æ‰§è¡Œçš„è„šæœ¬ï¼Œä¿®å¤ä»»ä½•é”™è¯¯çš„ URL -->
    <script>
      (function() {
        console.log('ğŸ“„ index.html: é¡µé¢å¼€å§‹åŠ è½½');
        console.log('ğŸŒ åˆå§‹ URL:', window.location.href);
        console.log('ğŸ“ åˆå§‹è·¯å¾„:', window.location.pathname);
        
        // å­˜å‚¨åŸå§‹ URL ç”¨äºè°ƒè¯•
        window._originalUrl = window.location.href;
        window._originalPath = window.location.pathname;
        
        // å¦‚æœ URL æ˜¯ /note/undefinedï¼Œç«‹å³ä¿®å¤
        if (window.location.pathname === '/note/undefined') {
          console.log('ğŸš¨ index.html: æ£€æµ‹åˆ°é”™è¯¯çš„ URL /note/undefined');
          console.log('ğŸ”„ æ­£åœ¨ä¿®å¤...');
          
          // æ–¹æ³•1: ä½¿ç”¨ history.replaceStateï¼ˆæœ€å¹²å‡€çš„æ–¹å¼ï¼‰
          window.history.replaceState({}, '', '/');
          
          // æ–¹æ³•2: å¦‚æœéœ€è¦å®Œå…¨é‡è½½
          // window.location.href = '/';
          
          console.log('âœ… index.html: URL å·²ä¿®å¤');
          console.log('âœ… æ–° URL:', window.location.href);
        }
        
        // ç›‘å¬æ‰€æœ‰é“¾æ¥ç‚¹å‡»
        document.addEventListener('click', function(e) {
          const link = e.target.closest('a');
          if (link && link.href) {
            console.log('ğŸ”— ç‚¹å‡»é“¾æ¥:', link.href);
            console.log('ğŸ”— é“¾æ¥è·¯å¾„:', new URL(link.href).pathname);
          }
        });
      })();
    </script>
  </head>
  <body>
    <!-- æ·»åŠ ä¸€äº›è°ƒè¯•ä¿¡æ¯åˆ°é¡µé¢ -->
    <div id="root"></div>
    
    <!-- æ·»åŠ ä¸€ä¸ªè°ƒè¯•é¢æ¿ï¼ˆéšè—çš„ï¼‰ -->
    <div id="debug-panel" style="display: none; position: fixed; bottom: 10px; right: 10px; background: #f0f0f0; padding: 10px; border: 1px solid #ccc; border-radius: 5px; font-size: 12px; font-family: monospace;">
      <div>URL: <span id="debug-url"></span></div>
      <div>Path: <span id="debug-path"></span></div>
      <button onclick="window.location.reload()">åˆ·æ–°</button>
      <button onclick="window.location.href='/'">é¦–é¡µ</button>
    </div>
    
    <script>
      // æ˜¾ç¤ºè°ƒè¯•é¢æ¿
      document.getElementById('debug-url').textContent = window.location.href;
      document.getElementById('debug-path').textContent = window.location.pathname;
      document.getElementById('debug-panel').style.display = 'block';
    </script>
    
    <script type="module" src="/src/main.jsx"></script>
  </body>
</html>